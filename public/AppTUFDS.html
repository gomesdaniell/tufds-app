<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>App TUFDS ‚Äì Consulentes</title>

<!-- polyfill para manter google.script.run -->
<script src="/gsrun.js"></script>

<style>
  :root{
    --bg:#f3f4f6;
    --card:#ffffff;
    --text:#111827;
    --muted:#6b7280;
    --border:#e5e7eb;
    --accent:#0f766e;
    --accent-soft:#ecfdf5;
    --shadow:0 1px 3px rgba(0,0,0,.06);
    --radius:16px;
  }

  *{ box-sizing:border-box }
  html,body{ height:100% }
  body{
    margin:0;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial;
    background:var(--bg);
    color:var(--text);
  }

  /* ===== layout ===== */
  .shell{
    max-width:1200px;
    margin:0 auto;
    padding:24px 16px 40px;
    display:grid;
    grid-template-columns: 1fr 320px;
    gap:24px;
  }
  .shell.single{ grid-template-columns:1fr; }
  @media (max-width:1024px){ .shell{ grid-template-columns:1fr } }

  .hidden{ display:none!important; }

  /* ===== header ===== */
  .header{
    grid-column:1/-1;
    background:var(--card);
    border:1px solid var(--border);
    border-radius:var(--radius);
    box-shadow:var(--shadow);
    padding:16px 20px;
    display:flex;
    align-items:center;
    gap:14px;
  }
  .logo-circle{
    width:56px;height:56px;border-radius:50%;
    background:#e5e7eb;
    border:1px solid #a7f3d0;
    display:grid;place-items:center;
    font-weight:800;font-size:22px;
    overflow:hidden;
  }
  .logo-circle img{
    width:100%;height:100%;
    object-fit:contain;
    border-radius:50%;
    padding:6px;
    background:#e5e7eb;
  }
  .header h1{margin:0;font-size:24px;line-height:1.15;}
  .sub{color:var(--muted);margin-top:2px;font-size:14px;}

  /* ===== tabs ===== */
  .tabs{
    grid-column:1/-1;
    display:flex;gap:12px;
    margin-top:12px;margin-bottom:10px;
    overflow-x:auto;white-space:nowrap;
    -webkit-overflow-scrolling:touch;
    padding:6px 2px;
    scrollbar-width:thin;
    scrollbar-color:#cbd5e1 #f3f4f6;
  }
  .tabs::-webkit-scrollbar{height:8px;}
  .tabs::-webkit-scrollbar-track{background:#f3f4f6;border-radius:999px;}
  .tabs::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:999px;border:2px solid #f3f4f6;}

  .tab-btn{
    border:1px solid var(--border);
    background:#fff;
    color:var(--text);
    padding:10px 16px;
    border-radius:999px;
    font-weight:600;
    font-size:15px;
    cursor:pointer;
  }
  .tab-btn.active{background:var(--accent);color:#ecfdf5;border-color:var(--accent);}

  /* ===== cards ===== */
  .card{
    background:var(--card);
    border:1px solid var(--border);
    border-radius:var(--radius);
    box-shadow:var(--shadow);
    padding:20px;
  }
  h2{margin:0 0 8px;font-size:22px;}
  .muted{color:var(--muted);font-size:14px;}

  /* ===== home grid ===== */
  .home-grid{
    margin-top:10px;
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:16px;
  }
  @media(max-width:720px){.home-grid{grid-template-columns:1fr;}}
  .home-card{
    display:flex;align-items:center;gap:14px;
    background:#fff;border:1px solid var(--border);
    padding:18px;border-radius:14px;cursor:pointer;
    transition:transform .08s,background .15s;
  }
  .home-card:hover{background:#f9fafb;transform:translateY(-1px);}
  .home-card-icon{
    width:44px;height:44px;border-radius:12px;
    display:grid;place-items:center;font-size:26px;
    background:#eef2ff;
  }
  .home-card strong{font-size:18px;display:block;margin-bottom:4px;}

  /* ===== sidebar ===== */
  .side-title{font-weight:800;font-size:26px;margin:0 0 8px;}
  .next-list{display:flex;flex-direction:column;gap:10px;margin-top:6px;}
  .next-item{
    background:#d1fae5;border-radius:14px;padding:10px 12px;
    display:flex;justify-content:space-between;align-items:center;gap:16px;
  }
  .next-badge{background:#10b981;color:#052e1b;font-weight:800;padding:6px 12px;border-radius:999px;}

  /* ===== sobre ===== */
  .sobre-panel{display:none;}
  .sobre-panel.active{display:block;}
</style>
</head>
<body>

<div class="shell" id="app-shell">
  <!-- HEADER -->
  <div class="header">
    <div class="logo-circle" id="tufds-logo">
      <img
        src="https://drive.google.com/uc?export=view&id=10KI1SmJMFBAuly-t84pNuNMUKKQFoM1e"
        alt="Logo TUFDS"
        referrerpolicy="no-referrer"
        onerror="this.remove();this.parentNode.textContent='T';"
      />
    </div>
    <div>
      <h1>Terreiro de Umbanda Filhos do Sagrado - TUFDS</h1>
      <div class="sub">Espa√ßo de f√©, acolhimento e aprendizado.</div>
    </div>
  </div>

  <!-- MENU -->
  <div class="tabs" id="tabs">
    <button class="tab-btn active" data-tab="home">In√≠cio</button>
    <button class="tab-btn" data-tab="calendario">Calend√°rio</button>
    <button class="tab-btn" data-tab="pontos">Pontos Cantados</button>
    <button class="tab-btn" data-tab="playlists">Playlists</button>
    <button class="tab-btn" data-tab="pedidos">Pedidos</button>
    <button class="tab-btn" data-tab="doacoes">Doa√ß√µes</button>
    <button class="tab-btn" data-tab="biblioteca">Biblioteca</button>
    <button class="tab-btn" data-tab="sobre">Sobre a Casa</button>
    <button class="tab-btn" data-tab="orixas">Orix√°s</button>
    <button class="tab-btn" data-tab="faq">FAQ</button>
  </div>

  <!-- CONTE√öDOS -->
  <div>
    <div id="sec-home" class="section active">
      <h1 style="font-size:38px;margin-bottom:10px;">Novo na Umbanda? Comece por aqui.</h1>
      <div class="home-grid">
        <div class="home-card" id="card-primeiros"><div class="home-card-icon">üë£</div><div><strong>Primeiros passos</strong><span class="muted">Para sua primeira gira.</span></div></div>
        <div class="home-card" id="card-visitantes"><div class="home-card-icon">‚úÖ</div><div><strong>Orienta√ß√µes</strong><span class="muted">Como se portar no terreiro.</span></div></div>
        <div class="home-card" id="card-orixas"><div class="home-card-icon">‚ö°</div><div><strong>Orix√°s</strong><span class="muted">For√ßas e fundamentos.</span></div></div>
      </div>
    </div>

    <div id="sec-sobre" class="section"><div class="card" data-include="/partials/SobreTUFDS.html"></div></div>
    <div id="sec-orixas" class="section"><div class="card" data-include="/partials/Orixas.html"></div></div>
  </div>

  <!-- LATERAL -->
  <aside class="col-right" id="side-panel">
    <div class="card">
      <h2 class="side-title">Espa√ßo do TUFDS</h2>
      <p class="muted">Terreiro de Umbanda Filhos do Sagrado ‚Äì Manaus/AM</p>
      <div id="homeProximasLista" class="next-list">
        <div class="next-item"><span>07/12</span><span class="next-badge">Gira de Ians√£</span></div>
        <div class="next-item"><span>14/12</span><span class="next-badge">Gira de Xang√¥</span></div>
      </div>
    </div>
  </aside>
</div>

<script>
/* ===== Logo segura (Drive) ===== */
document.addEventListener("DOMContentLoaded", () => {
  const DRIVE_FILE_ID = "10KI1SmJMFBAuly-t84pNuNMUKKQFoM1e";
  const el = document.getElementById("tufds-logo");
  if (!el) return;

  const img = new Image();
  img.alt = "Logo TUFDS";
  img.referrerPolicy = "no-referrer";
  img.style.width = "100%";
  img.style.height = "100%";
  img.style.objectFit = "contain";
  img.style.borderRadius = "50%";
  img.style.padding = "6px";
  img.style.background = "#e5e7eb";

  img.onload = () => { el.innerHTML = ""; el.appendChild(img); };
  img.onerror = () => {
    el.innerHTML = `<img src="https://drive.google.com/uc?export=view&id=${DRIVE_FILE_ID}" 
      alt="Logo TUFDS" style="width:100%;height:100%;object-fit:contain;border-radius:50%;padding:6px;background:#e5e7eb;">`;
  };
  img.src = `https://drive.google.com/thumbnail?id=${DRIVE_FILE_ID}&sz=w256`;
});
</script>

</body>
</html>
